import{ref as r,onServerPrefetch as H,unref as B,computed as y,defineComponent as k,watch as I,openBlock as u,createElementBlock as f,createElementVNode as o,normalizeStyle as R,toDisplayString as g,createCommentVNode as O,withDirectives as M,withKeys as X,vModelText as G,createTextVNode as V,createBlock as C,Teleport as K,renderSlot as A,withCtx as W,Fragment as T,renderList as E,createVNode as F}from"vue";import{u as Y,c as N,e as Z,b as q,f as J,g as Q,o as ee,h as te,i as ne}from"../server.mjs";import oe from"./Icon.e32a338c.js";import"#internal/nitro";import"vue-router";import"./_plugin-vue_export-helper.a1a6add7.js";const se=()=>null;function ae(...l){var w,p,$,m,x,j,P,D,h;const n=typeof l[l.length-1]=="string"?l.pop():void 0;typeof l[0]!="string"&&l.unshift(n);let[e,c,s={}]=l;if(typeof e!="string")throw new TypeError("[nuxt] [asyncData] key must be a string.");if(typeof c!="function")throw new TypeError("[nuxt] [asyncData] handler must be a function.");s.server=(w=s.server)!=null?w:!0,s.default=(p=s.default)!=null?p:se,s.defer&&console.warn("[useAsyncData] `defer` has been renamed to `lazy`. Support for `defer` will be removed in RC."),s.lazy=(m=($=s.lazy)!=null?$:s.defer)!=null?m:!1,s.initialCache=(x=s.initialCache)!=null?x:!0,s.immediate=(j=s.immediate)!=null?j:!0;const t=Y(),i=()=>(t.isHydrating||s.initialCache)&&t.payload.data[e]!==void 0;t._asyncData[e]||(t._asyncData[e]={data:r(i()?t.payload.data[e]:(D=(P=s.default)==null?void 0:P.call(s))!=null?D:null),pending:r(!i()),error:r((h=t.payload._errors[e])!=null?h:null)});const a={...t._asyncData[e]};a.refresh=a.execute=(L={})=>{if(t._asyncDataPromises[e]){if(L.dedupe===!1)return t._asyncDataPromises[e];t._asyncDataPromises[e].cancelled=!0}if(L._initial&&i())return t.payload.data[e];a.pending.value=!0;const b=new Promise((S,U)=>{try{S(c(t))}catch(z){U(z)}}).then(S=>{if(b.cancelled)return t._asyncDataPromises[e];s.transform&&(S=s.transform(S)),s.pick&&(S=le(S,s.pick)),a.data.value=S,a.error.value=null}).catch(S=>{var U,z;if(b.cancelled)return t._asyncDataPromises[e];a.error.value=S,a.data.value=B((z=(U=s.default)==null?void 0:U.call(s))!=null?z:null)}).finally(()=>{b.cancelled||(a.pending.value=!1,t.payload.data[e]=a.data.value,a.error.value&&(t.payload._errors[e]=!0),delete t._asyncDataPromises[e])});return t._asyncDataPromises[e]=b,t._asyncDataPromises[e]};const d=()=>a.refresh({_initial:!0});if(s.server!==!1&&t.payload.serverRendered&&s.immediate){const L=d();H(()=>L)}const v=Promise.resolve(t._asyncDataPromises[e]).then(()=>a);return Object.assign(v,a),v}function le(l,n){const e={};for(const c of n)e[c]=l[c];return e}function re(l,n,e){const[c={},s]=typeof n=="string"?[{},n]:[n,e],t=c.key||s;if(!t||typeof t!="string")throw new TypeError("[nuxt] [useFetch] key must be a string: "+t);if(!l)throw new Error("[nuxt] [useFetch] request is missing.");const i="$f"+t,a=y(()=>{let b=l;return typeof b=="function"&&(b=b()),B(b)}),{server:d,lazy:_,default:v,transform:w,pick:p,watch:$,initialCache:m,immediate:x,...j}=c,P={...j,cache:typeof c.cache=="boolean"?void 0:c.cache},D={server:d,lazy:_,default:v,transform:w,pick:p,initialCache:m,immediate:x,watch:[a,...$||[]]};let h;return ae(i,()=>{var b;return(b=h==null?void 0:h.abort)==null||b.call(h),h=typeof AbortController<"u"?new AbortController:{},$fetch(a.value,{signal:h.signal,...P})},D)}const ce={style:{"max-height":"100%"},class:"rounded-3xl max-h-[calc(30vh)] flex justify-items-center items-center"},ie=["src"],ue=k({__name:"ImageComponent",setup(l){const n=["https://mj-gallery.com/2812b085-5451-4cfe-a511-b797a8adb6fb/grid_0.png","https://mj-gallery.com/0edf827b-e308-4521-ba93-90e498cfe48b/grid_0.png","https://mj-gallery.com/271d74ce-349e-4865-a18e-0438845a0bb4/grid_0.png","https://mj-gallery.com/b79206ba-8edf-4dec-bd47-e7fb3bc0d368/grid_0.png","https://mj-gallery.com/7bf4774a-985d-4244-a46d-d05c859b6920/grid_0.png","https://mj-gallery.com/62308fbb-5274-421d-b7ae-84b89e249428/grid_0.png","https://mj-gallery.com/62d7898a-0d04-41b2-8091-f08576a643f8/grid_0.png","https://mj-gallery.com/83283aaa-44db-4f5c-b5e9-8a5aa5559a9d/grid_0.png","https://mj-gallery.com/f7b965ff-71eb-4e75-b788-1651c20cdcd5/grid_0.png","https://mj-gallery.com/c4bd6b31-5824-4f86-a6a1-9c4408f7c091/grid_0.png","https://mj-gallery.com/c30016e1-ca57-4b19-840b-21b5e9c05a83/grid_0.png","https://mj-gallery.com/b2f7ecab-725a-476b-9e6d-d08f535f0d4e/grid_0.png","https://mj-gallery.com/47ef2540-f911-41f6-8a68-75b49be79a2d/grid_0.png","https://mj-gallery.com/f2e9fd82-a879-4c63-8827-a0e316d669f9/grid_0.png","https://mj-gallery.com/473c2fdd-8207-4ddb-bd20-ffa0833cdca2/grid_0.png","https://mj-gallery.com/8009e2a6-062a-4057-bbf6-bdcb0508d558/grid_0.png","https://mj-gallery.com/b0129365-3bac-453b-a198-9bc3ce176b98/grid_0.png","https://mj-gallery.com/0c6b3646-c95e-4e10-b486-3276c2cd0a7b/grid_0.png"],e=N(),c=()=>e.image!==""?e.image:n[Math.floor(Math.random()*n.length)],s=r(c()),t=r(!0),i=r(e.getImageOpacity);return I(()=>e.image,()=>{s.value=c()}),I(()=>e.imageOpacity,()=>{i.value=e.getImageOpacity}),(a,d)=>(u(),f("div",ce,[o("img",{class:"w-100 h-100 object-contain rounded-3xl",style:R(`opacity: ${i.value/100}`),onLoad:d[0]||(d[0]=_=>t.value=!1),src:s.value,alt:"image"},null,44,ie)]))}}),de={key:0,class:"flex flex-row justify-items-center items-center capitalize space-x-4"},me=["src"],pe={class:"opacity-50"},fe={class:"flex flex-row place-content-start items-start"},_e={class:"text-2xl"},he=o("span",{class:"text-sm"},"\xB0C",-1),ge=k({__name:"WeatherComponent",setup(l){const n=Z(),e=r(y(()=>n.token)),c=r(y(()=>n.lat)),s=r(y(()=>n.lon)),t=r(null),i=r(""),a=r(!1),d=async()=>{if(e.value){const _="https://api.openweathermap.org/data/2.5/weather?",{data:v}=await re(`${_}lat=${c.value}&lon=${s.value}&appid=${e.value}&units=metric`,"$qaDAzZ5rpf");t.value=v.value,i.value="http://openweathermap.org/img/w/"+t.value.weather[0].icon+".png",a.value=!0}};return I(()=>n.token,()=>{d()}),I(()=>n.lat,()=>{d()}),I(()=>n.lon,()=>{d()}),setInterval(()=>{d()},6e5),(_,v)=>a.value?(u(),f("div",de,[o("img",{src:i.value,alt:"Weather icon"},null,8,me),o("div",null,[o("p",null,g(t.value.weather[0].description),1),o("p",pe,g(t.value.name),1)]),o("div",fe,[o("span",_e,g(parseInt(t.value.main.temp)),1),he])])):O("",!0)}}),ye=o("span",{class:"text-xs ml-6 opacity-30"},"Search:",-1),xe={class:"flex flex-row items-center p-2 rounded-full bg-neutral glass opacity-75 border-0 hover:bg-neutral hover:opacity-60 transition-all"},ve=["onKeyup"],be=k({__name:"SearchBar",setup(l){const n=r(""),e=r(null),c=s=>{s.keyCode===13&&n.value!==""&&(location.href=`https://google.com/search?q=${n.value}`)};return(s,t)=>(u(),f("div",null,[ye,o("div",xe,[M(o("input",{autofocus:"",ref_key:"search",ref:e,"onUpdate:modelValue":t[0]||(t[0]=i=>n.value=i),type:"text",class:"ml-4 text-start text-neutral-content bg-transparent border-none appearance-none outline-none focus:outline-none text-3xl font-bold w-full",onKeyup:X(c,["enter"])},null,40,ve),[[G,n.value]])])]))}}),ke={class:"countdown font-mono text-6xl p-0 text-primary"},we=k({__name:"ClockComponent",setup(l){const n=r(null),e=r(null),c=r(null);return setInterval(()=>{const t=new Date,i=t.getHours(),a=t.getMinutes(),d=t.getSeconds();n.value.style=i<10?`--value: 0${i}`:`--value: ${i.toString()}`,e.value.style=a<10?`--value: 0${a}`:`--value: ${a.toString()}`,c.value.style=d<10?`--value: 0${d}`:`--value: ${d.toString()}`},500),(t,i)=>(u(),f("span",ke,[o("span",{ref_key:"hours",ref:n},null,512),V(": "),o("span",{ref_key:"minutes",ref:e},null,512),V(": "),o("span",{ref_key:"seconds",ref:c},null,512)]))}}),$e=k({__name:"DateComponent",setup(l){const n=r(null),e=()=>{const s=new Date,t=s.toLocaleString("en-us",{weekday:"long"}),i=s.getDate();return`${t} ${i}`},c=y(()=>e());return(s,t)=>(u(),f("p",{class:"text-xl",ref_key:"dateRef",ref:n},g(B(c)),513))}}),Ce={class:"modal modal-bottom sm:modal-middle z-50 fixed top-0 left-0 w-screen h-screen visible opacity-100 pointer-events-auto"},De={class:"modal-box"},Se={class:"font-bold text-lg"},je={class:"py-4"},Pe={class:"form-control w-full max-w-xs"},Le={class:"modal-action"},Oe=k({__name:"ModalComponent",props:{onConfirm:null,onClose:null,open:{type:Boolean},confirm:null,cancel:null},setup(l){return(n,e)=>(u(),C(K,{to:"body"},[o("div",Ce,[o("div",De,[o("h3",Se,[A(n.$slots,"title")]),o("p",je,[A(n.$slots,"description")]),o("div",Pe,[A(n.$slots,"form")]),o("div",Le,[o("label",{class:"btn",onClick:e[0]||(e[0]=(...c)=>l.onClose&&l.onClose(...c))},g(l.cancel),1),o("label",{class:"btn btn-secondary",onClick:e[1]||(e[1]=(...c)=>l.onConfirm&&l.onConfirm(...c))},g(l.confirm),1)])])])]))}}),Be={class:"font-bold"},Te=o("label",{class:"label"},[o("span",{class:"label-text"},"Link name")],-1),Ee=o("label",{class:"label"},[o("span",{class:"label-text"},"Link url")],-1),Me=o("label",{class:"label"},[o("span",{class:"label-text"},"Group")],-1),Ge={class:"mt-2 flex flex-row flex-wrap"},Ie=["onClick"],Re=o("label",{class:"label"},[o("span",{class:"label-text"},"Color")],-1),Ue={class:"mt-2 flex flex-row flex-wrap"},ze=["onClick"],Fe=k({__name:"EditLinkModal",props:{link:null,onClose:null},setup(l){const{link:n,onClose:e}=l,c=["Productivity","School","Work","Home","Entertainment","Other"],s=[{name:"Red",color:"#dc2626"},{name:"Blue",color:"#2563eb"},{name:"Green",color:"#059669"},{name:"Yellow",color:"#fbbf24"},{name:"Purple",color:"#8b5cf6"},{name:"Pink",color:"#ec4899"},{name:"Gray",color:"#6b7280"},{name:"Black",color:"#111827"}],t=q(),i=r(n.name),a=r(n.url),d=r(n.color),_=r(n.group),v=()=>{if(t.links.find(p=>p.name===n.name)){const p={name:i.value,url:a.value,color:d.value,group:_.value!==""?_.value:"Other"};t.editLink(n,p)}e()};return(w,p)=>{const $=Oe;return u(),C($,{open:!0,confirm:"Save",cancel:"Cancel",onClose:l.onClose,onConfirm:v},{title:W(()=>[V(" Edit "),o("span",Be,g(l.link.name),1)]),form:W(()=>[Te,M(o("input",{"onUpdate:modelValue":p[0]||(p[0]=m=>i.value=m),type:"text",placeholder:"(ex. Github)",class:"input input-bordered w-full max-w-xs"},null,512),[[G,i.value]]),Ee,M(o("input",{"onUpdate:modelValue":p[1]||(p[1]=m=>a.value=m),type:"text",placeholder:"(ex. https://github.com)",class:"input input-bordered w-full max-w-xs"},null,512),[[G,a.value]]),Me,M(o("input",{"onUpdate:modelValue":p[2]||(p[2]=m=>_.value=m),type:"text",placeholder:"(ex. Productivity)",class:"input input-bordered w-full max-w-xs"},null,512),[[G,_.value]]),o("div",Ge,[(u(),f(T,null,E(c,m=>o("span",{class:"badge cursor-pointer mr-1 mb-1",onClick:x=>_.value=m},g(m),9,Ie)),64))]),Re,M(o("input",{"onUpdate:modelValue":p[3]||(p[3]=m=>d.value=m),type:"text",placeholder:"(ex. #FFF000)",class:"input input-bordered w-full max-w-xs"},null,512),[[G,d.value]]),o("div",Ue,[o("span",{class:"badge cursor-pointer mr-1 mb-1",onClick:p[4]||(p[4]=m=>d.value="")},"Follow theme"),(u(),f(T,null,E(s,m=>o("span",{class:"badge cursor-pointer mr-1 mb-1",style:R(`background-color: ${m.color}`),onClick:x=>d.value=m.color},g(m.name),13,ze)),64))])]),_:1},8,["onClose"])}}}),Ve=o("div",{class:"fixed w-screen h-screen top-0 left-0"},null,-1),Ae=["onClick"],We=k({__name:"ContextMenu",props:{x:null,y:null,actions:null},emits:["close"],setup(l,{emit:n}){const e=l,c=r(null);J(c),Q();const s=y(()=>({top:e.y+"px",left:e.x+"px"}));return ee(c,()=>n("close")),(t,i)=>(u(),C(K,{to:"body"},[Ve,o("div",{ref_key:"target",ref:c,class:"bg-transparent rounded-xl shadow fixed top-0 left-0 flex flex-col text-start items-start",style:R(B(s))},[(u(!0),f(T,null,E(l.actions,a=>(u(),f("button",{class:"[&:nth-child(1)]:rounded-b-none [&:last-child]:rounded-t-none btn btn-sm bg-neutral hover:bg-neutral-focus text-base text-start flex-1 w-32 justify-start rounded-xl",key:a.name,onClick:a.fn},g(a.name),9,Ae))),128))],4)]))}}),Ne={class:"hidden group-hover:flex ml-2 items-center"},qe=k({__name:"LinkBadge",props:{link:null},setup(l){const{link:n}=l,{x:e,y:c}=te(),s=r(0),t=r(0),i=q(),a=r(!1),d=r(!1),_=r(!1),v=[{name:"Edit",fn:()=>a.value=!0},{name:"Remove",fn:()=>i.removeLinkByName(n.name)}],w=()=>{a.value=!1},p=m=>{m.preventDefault(),s.value=e.value,t.value=c.value,_.value=!0},$=y(()=>n.color!==""&&n.color!==void 0&&n.color!==null?{backgroundColor:n.color}:{});return(m,x)=>{const j=oe,P=ne,D=Fe,h=We;return u(),f("div",null,[d.value?O("",!0):(u(),C(P,{key:0,to:l.link.url,onContextmenu:x[0]||(x[0]=L=>p(L))},{default:W(()=>[o("div",{class:"whitespace-nowrap flex items-center group badge bg-primary p-4 m-1 text-center border-0 text-white cursor-pointer hover:opacity-80 overflow-hidden",style:R(B($))},[V(g(l.link.name)+" ",1),o("span",Ne,[F(j,{name:"ei:external-link"})])],4)]),_:1},8,["to"])),a.value?(u(),C(D,{key:1,link:l.link,onClose:w},null,8,["link"])):O("",!0),_.value?(u(),C(h,{key:2,x:s.value,y:t.value,onClose:x[1]||(x[1]=L=>_.value=!1),actions:v},null,8,["x","y"])):O("",!0)])}}}),Ke=""+globalThis.__buildAssetsURL("plex.d89dcfe5.jpg"),He={class:"grid grid-cols-1 lg:grid-cols-2 gap-4"},Xe=o("img",{src:Ke,alt:"",class:"w-12 h-12"},null,-1),Ye={class:"flex flex-col text-white"},Ze={class:"text-xs"},Je={class:"font-bold"},Qe={class:"text-xs opacity-50"},et=k({__name:"PlexSessionsComponent",setup(l){const n=N(),e=r(y(()=>n.plexURL)),c=r(y(()=>n.plexToken));r(y(()=>n.plexUpdateInterval*1e3)),r(0);const s=r([]);return r("/status/sessions"),(t,i)=>(u(),f("div",He,[(u(!0),f(T,null,E(s.value,a=>(u(),f("div",{class:"bg-neutral rounded-xl p-4 flex flex-row space-x-4",key:a.id,style:R(`background: linear-gradient( rgba(0, 0, 0, 0.8), rgba(0, 0, 0, 0.8) ), url(${e.value+a.art+"?X-Plex-Token="+c.value}); background-size: cover;`)},[Xe,o("div",Ye,[o("span",Ze,g(a.artist),1),o("span",Je,g(a.title),1),o("span",Qe,g(a.type),1)])],4))),128))]))}}),tt=()=>{const l=new Date().getHours();return l<3||l>23?"Good night":l<12?"Good morning":l<18?"Good afternoon":"Good evening"},nt={class:"grid grid-cols-1 md:place-items-center justify-around md:px-24 max-w-scren h-screen"},ot={class:"grid grid-cols-1 md:grid-cols-6 md:grid-rows-1 items-center gap-2 md:gap-16 py-16 xl:py-24 max-h-screen"},st={class:"flex flex-col space-y-4 min-w-[calc(50%)] items-start mt-4 md:mt-0 justify-between md:col-span-4 self-start"},at={class:"font-bold text-4xl md:text-5xl"},lt={class:"flex flex-col flex-wrap justify-items-start mr-4"},rt={class:"text-xl"},ft=k({__name:"index",setup(l){const n=q(),e=N(),c=r(y(()=>n.getUniqueGroups)),s=r(y(()=>e.username)),t=r(y(()=>n.links)),i=r(y(()=>e.searchbar)),a=r(y(()=>e.showDate)),d=r(y(()=>e.showClock));return(_,v)=>{const w=ue,p=ge,$=be,m=we,x=$e,j=qe,P=et;return u(),f("div",nt,[o("div",ot,[F(w,{class:"overflow-clip h-[calc(40vh)] md:h-full md:col-span-2"}),o("div",st,[F(p),i.value?(u(),C($,{key:0})):O("",!0),o("h1",at,g(B(tt)())+" "+g(s.value),1),d.value?(u(),C(m,{key:1})):O("",!0),a.value?(u(),C(x,{key:2})):O("",!0),(u(),f("div",{class:"flex flex-row overflow-x-scroll pt-2",style:{"max-width":"-webkit-fill-available"},key:B(n).linkChanged},[(u(!0),f(T,null,E(c.value,D=>(u(),f("div",lt,[o("h1",rt,g(D),1),(u(!0),f(T,null,E(t.value.filter(h=>h.group==D),h=>(u(),C(j,{key:h.name,link:h},null,8,["link"]))),128))]))),256))])),F(P,{class:"mt-auto"})])])])}}});export{ft as default};
//# sourceMappingURL=index.2d449231.js.map
